import{_ as E}from"./blobBackground-e9449148.js";import{d as G,r as c,u as I,a as x,o as u,c as d,b as o,e as t,w as n,f as l,B as j,_ as p,t as A,g as B,F as N,m as H,i as _,G as L,k as y,l as R}from"./index-0d0c21ad.js";import{_ as b}from"./BaseInput.vue_vue_type_script_setup_true_lang-d0b427be.js";const U=o("img",{src:E,alt:"Background",class:"w-screen h-screen object-cover"},null,-1),T={class:"flex h-screen justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},W={class:"flex flex-col gap-3 xl:gap-4 p-8 xl:p-12 xl:px-14 bg-white rounded-md"},D=o("div",{class:"flex justify-center mb-5"},[o("h1",{class:"text-4xl font-title text-gray-700"},"Log in")],-1),F={class:"flex justify-end -mt-3 -mb-3 text-tiny"},S={key:0},O={key:1,class:"flex justify-center"},$={key:0,class:"font-body text-red-500 text-sm"},z={class:"flex items-center gap-2 justify-center"},M={class:"flex items-center gap-2 justify-center"},q={class:"font-body text-center text-gray-600 -mb-3 xl:-mb-6 w-72"},J=o("br",null,null,-1),Z=G({__name:"LoginView",setup(K){const i=c(""),r=c(""),m=I(),e=c(""),k=()=>i.value.trim()===""||r.value.trim()===""?(e.value="Please fill in all fields",!1):r.value.length<8?(e.value="Password must be at least 8 characters",!1):!0,P=async()=>{h.value=!0,k()&&(await H(_(),i.value,r.value).then(s=>{m.push({name:"Home"})}).catch(s=>{switch(console.log(s.code),s.code){case"auth/invalid-email":e.value="Please enter a valid email address";break;case"auth/user-disabled":e.value="User disabled";break;case"auth/user-not-found":e.value="No user found with this email";break;case"auth/wrong-password":e.value="Email and password do not match";break;case"auth/account-exists-with-different-credential":e.value="An account already exists with these credentials - please sign in with the correct provider";break;default:e.value="An error has occurred"}}),h.value=!1)},v=s=>{switch(s.code){case"auth/invalid-email":e.value="Please enter a valid email address";break;case"auth/user-disabled":e.value="User disabled";break;case"auth/email-already-exists":e.value="This email is already in use";break;case"auth/account-exists-with-different-credential":e.value="This email is already in use";break;default:e.value="An error has occurred"}},h=c(!1),V=async()=>{const s=new L;await y(_(),s).then(a=>{console.log(a.user),m.push({name:"Home"})}).catch(a=>{v(a)})},C=()=>{console.log("GITHUB PROVIDER");const s=new R;y(_(),s).then(a=>{console.log("SIGNED IN WITH POPUP"),console.log(a),console.log(a.user),m.push({name:"Home"})}).catch(a=>{v(a)})};return(s,a)=>{const g=x("RouterLink"),w=x("font-awesome-icon");return u(),d(N,null,[U,o("div",T,[o("div",W,[D,t(b,{name:"email",placeholder:"Enter your email",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=f=>i.value=f),class:"w-full"},{default:n(()=>[l(" Email ")]),_:1},8,["modelValue"]),t(b,{name:"password",placeholder:"Enter your password",type:"password",modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=f=>r.value=f),class:"w-full"},{default:n(()=>[l(" Password ")]),_:1},8,["modelValue"]),o("div",F,[t(g,{to:"/forgot-password",class:"text-primary underline"},{default:n(()=>[l("Forgot your password?")]),_:1})]),t(p,{onClick:P,class:"px-5 mt-3"},{default:n(()=>[h.value?(u(),d("span",O,[t(j,{size:24,color:"white"})])):(u(),d("span",S,"Log in"))]),_:1}),e.value?(u(),d("p",$,A(e.value),1)):B("",!0),t(p,{type:"secondary",onClick:V},{default:n(()=>[o("div",z,[t(w,{icon:["fab","google"],class:"text-primary"}),l(" Continue with Google ")])]),_:1}),t(p,{type:"secondary",onClick:C},{default:n(()=>[o("div",M,[t(w,{icon:["fab","github"],class:"text-primary"}),l(" Continue with GitHub ")])]),_:1}),o("p",q,[l("Don't have an account? "),J,t(g,{to:"/register",class:"text-primary underline"},{default:n(()=>[l("Register")]),_:1}),l(" instead ")])])])],64)}}});export{Z as default};
